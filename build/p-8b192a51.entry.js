import{r as i,c as t,h as s,g as o}from"./p-40a38567.js";const e=class{constructor(s){i(this,s),this.bdsChange=t(this,"bdsChange",7),this.bdsCancel=t(this,"bdsCancel",7),this.bdsFocus=t(this,"bdsFocus",7),this.bdsBlur=t(this,"bdsBlur",7),this.isOpen=!1,this.text="",this.options=[],this.danger=!1,this.disabled=!1,this.label="",this.icon="",this.placeholder="",this.refNativeInput=i=>{this.nativeInput=i},this.onFocus=()=>{this.bdsFocus.emit()},this.onBlur=()=>{this.bdsBlur.emit()},this.toggle=()=>{this.disabled||(this.isOpen=!this.isOpen)},this.getText=()=>{var i,t;const s=this.childOptions.find((i=>i.value==this.value));return(null==s?void 0:s.titleText)?s.titleText:null!==(t=null===(i=null==s?void 0:s.textContent)||void 0===i?void 0:i.trim())&&void 0!==t?t:""},this.handler=i=>{const{detail:{value:t}}=i;this.value=t,this.toggle()},this.setFocusWrapper=()=>{this.nativeInput&&this.nativeInput.setFocus()},this.removeFocusWrapper=i=>{this.nativeInput&&"bds-input"!==i.relatedTarget.localName&&this.nativeInput.removeFocus()},this.keyPressWrapper=i=>{var t,s,o,e,r,n,l,h;const a="bds-select"===i.target.localName,c="bds-input"===i.target.localName;switch(i.key){case"Enter":this.isOpen||!a&&!c||this.toggle();break;case"ArrowDown":if(this.childOptionSelected)return void(null===(s=null===(t=this.childOptionSelected.nextElementSibling)||void 0===t?void 0:t.firstElementChild)||void 0===s||s.focus());null===(e=null===(o=this.el.firstElementChild)||void 0===o?void 0:o.firstElementChild)||void 0===e||e.focus();break;case"ArrowUp":if(this.childOptionSelected)return void(null===(n=null===(r=this.childOptionSelected.previousElementSibling)||void 0===r?void 0:r.firstElementChild)||void 0===n||n.focus());null===(h=null===(l=this.el.previousElementSibling)||void 0===l?void 0:l.firstElementChild)||void 0===h||h.focus()}}}valueChanged(){this.bdsChange.emit({value:this.value});for(const i of this.childOptions)i.selected=this.value===i.value;this.text=this.getText()}handleWindow(i){this.el.contains(i.target)||(this.isOpen=!1)}async connectedCallback(){for(const i of this.childOptions)i.selected=this.value===i.value,i.addEventListener("optionSelected",this.handler);this.text=this.getText()}get childOptions(){return Array.from(this.el.querySelectorAll("bds-select-option"))}get childOptionSelected(){return Array.from(this.el.querySelectorAll("bds-select-option")).find((i=>i.selected))}render(){return s("div",{class:"select",tabindex:"0",onFocus:this.setFocusWrapper,onBlur:this.removeFocusWrapper,onKeyDown:this.keyPressWrapper},s("bds-input",{icon:this.icon,label:this.label,ref:this.refNativeInput,onFocus:this.onFocus,onBlur:this.onBlur,onClick:this.toggle,value:this.text,danger:this.danger,disabled:this.disabled,placeholder:this.placeholder,readonly:!0},s("div",{slot:"input-right",class:"select__icon"},s("bds-icon",{size:"small",name:this.isOpen?"arrow-up":"arrow-down",color:"inherit"}))),s("div",{class:{select__options:!0,"select__options--open":this.isOpen}},s("slot",null)))}get el(){return o(this)}static get watchers(){return{value:["valueChanged"]}}};e.style='@charset "UTF-8";:host{display:block}.select{position:relative;outline:none}.select__icon{color:#8ca0b3;display:-ms-flexbox;display:flex}.select__options{background:#f8fbfb;width:100%;max-height:250px;position:absolute;top:99%;left:0;border-radius:8px;-webkit-box-shadow:0px 2px 8px rgba(96, 123, 153, 0.3);box-shadow:0px 2px 8px rgba(96, 123, 153, 0.3);overflow-y:auto;z-index:2;margin-top:4px;-webkit-transition:opacity 0.75s, visibility 0.75s, -webkit-transform 0.25s;transition:opacity 0.75s, visibility 0.75s, -webkit-transform 0.25s;transition:transform 0.25s, opacity 0.75s, visibility 0.75s;transition:transform 0.25s, opacity 0.75s, visibility 0.75s, -webkit-transform 0.25s;-webkit-transform-origin:top left;transform-origin:top left;-webkit-transform:scaleY(0);transform:scaleY(0);visibility:hidden;opacity:0;-webkit-box-shadow:0px 2px 12px 0 2px 8px rgba(96, 123, 153, 0.4);box-shadow:0px 2px 12px 0 2px 8px rgba(96, 123, 153, 0.4)}.select__options::-webkit-scrollbar{width:16px;background-color:transparent}.select__options::-webkit-scrollbar-thumb{border-radius:10px;border:4px solid transparent;border-radius:10px;background-clip:content-box;background-color:#b9cbd3}.select__options--open{visibility:visible;-webkit-transform:scale(1);transform:scale(1);opacity:1}';export{e as bds_select}